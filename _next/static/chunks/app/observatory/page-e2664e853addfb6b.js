(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{44101:(e,a,t)=>{Promise.resolve().then(t.bind(t,47707))},66910:(e,a,t)=>{"use strict";t.d(a,{Ri:()=>l,NE:()=>S,d1:()=>n,cL:()=>g,K5:()=>b,F$:()=>v,zG:()=>f,ON:()=>E,vp:()=>B,ar:()=>p,v5:()=>m,w9:()=>w,TB:()=>h,SI:()=>y,JJ:()=>x});var r=t(29159),o=t.n(r);let l=[{label:"Precipitation",method:"sum",units:"mm",summary_conversions:1,gradient_stops:[{offset:100,color:"blue.1"},{offset:80,color:"blue.3"},{offset:60,color:"cyan.4"},{offset:40,color:"teal.5"},{offset:20,color:"green.6"},{offset:0,color:"navy.7"}],domain:[0,200]},{label:"Temperature",method:"mean",units:"\xb0C",summary_conversions:1,gradient_stops:[{offset:0,color:"red.6"},{offset:20,color:"orange.6"},{offset:40,color:"yellow.5"},{offset:70,color:"lime.5"},{offset:80,color:"cyan.5"},{offset:100,color:"blue.2"}],domain:[0,50]},{label:"Humidity",method:"mean",units:"%",summary_conversions:1,gradient_stops:[{offset:0,color:"gray.6"},{offset:20,color:"indigo.5"},{offset:40,color:"blue.2"},{offset:60,color:"cyan.4"},{offset:80,color:"lime.3"},{offset:100,color:"yellow.2"}],domain:[0,100]},{label:"Wind Speed",method:"mean",units:"m/s",summary_conversions:1,gradient_stops:[{offset:0,color:"purple.6"},{offset:20,color:"orange.6"},{offset:40,color:"yellow.5"},{offset:60,color:"lime.4"},{offset:80,color:"cyan.4"},{offset:100,color:"blue.2"}],domain:[0,6]},{label:"Evaporation",method:"sum",units:"mm",summary_conversions:1,gradient_stops:[{offset:0,color:"red.7"},{offset:20,color:"orange.6"},{offset:40,color:"yellow.5"},{offset:60,color:"lime.4"},{offset:80,color:"teal.3"},{offset:100,color:"blue.1"}],domain:[0,20]},{label:"Solar Radiation",method:"sum",units:"kW/m\xb2",summary_conversions:.001,gradient_stops:[{offset:0,color:"red.8"},{offset:20,color:"red.6"},{offset:40,color:"orange.5"},{offset:60,color:"yellow.4"},{offset:80,color:"cyan.3"},{offset:100,color:"blue.1"}],domain:[0,1e3]}],s=e=>"https://docs.google.com/spreadsheets/d/".concat(e,"/export?format=csv"),i=async e=>{let a="";try{let t=await fetch(e);200===t.status?a=await t.text():console.log("Error code ".concat(t.json()))}catch(e){console.log(e)}return a},n=async()=>{let e=await i(s("1M0SwA724iOsYpOhrRG29OLcmmYLDJH0z53NJ5IvhBys")),a=o().parse(e,{header:!0}),t={};return a.data.forEach(e=>{t[e.Key]=e.Value}),t},c=e=>e.summary_conversions?e.summary_conversions:1,d=(e,a)=>Math.round(u(e,a)/e.length*10)/10,u=(e,a)=>{let t=l.find(e=>e.label===a),r=void 0!=t?c(t):1,o=0;return e.forEach(e=>{""===e[a]||void 0===e[a]||isNaN(Number(e[a]))||(o+=parseFloat(e[a])*r)}),Math.round(10*o)/10},m=async e=>{let a=await i(s("IISER"==e?"1RxP8XakApUISJeT1rucSnE8nzO3B--mo9XgUX9GMkN8":"11ao5WArlgDzg_VNYBmuyA4jElQ7hBIfvYaauO2gJ0PE")),t=o().parse(a,{header:!0}),r=new Date,n=t.data.slice(2).map(e=>{let[a,t,r]=e.Date.trim().split("/");return{...e,Date:"".concat(r,"-").concat(t,"-").concat(a),Precipitation:""===e.Precipitation?"0":e.Precipitation,Temperature:""===e.Temperature?"0":e.Temperature,Humidity:""===e.Humidity?"0":e.Humidity,WindSpeed:""===e["Wind Speed"]?"0":e["Wind Speed"],Evaporation:""===e.Evaporation?"0":e.Evaporation,SolarRadiation:""===e["Solar Radiation"]?"0":e["Solar Radiation"]}}),c=n.filter(e=>{let a=new Date(e.Date);return a.getMonth()===r.getMonth()&&a.getFullYear()===r.getFullYear()}),m=n.filter(e=>new Date(e.Date).getFullYear()===r.getFullYear());return{data:n,thisYearData:m,thisMonthData:c,summary:l.map(e=>({title:e.label,thisMonth:"sum"==e.method?"".concat(u(c,e.label)," ").concat(e.units):"".concat(d(c,e.label)," ").concat(e.units),thisYear:"sum"==e.method?"".concat(u(m,e.label)," ").concat(e.units):"".concat(d(m,e.label)," ").concat(e.units)}))}},p=async()=>{let e=await i(s("1Q9VDO6nWZvhChAvBqRiAQUmH0-8fxOXdsJbC5ma33HQ"));return o().parse(e,{header:!0}).data},f=async()=>{let e=await i(s("1qmfcuwPVUiWMPiTbf7agQItGaihYZy0hth4nXTQf0vk"));return o().parse(e,{header:!0}).data},h=async()=>{let e=await i(s("1LC1-mhA2rsW7mQwbo8X_V-bbSgaxmevf_iZ6JtDfO00"));return o().parse(e,{header:!0}).data},y=async()=>{let e=await i(s("1PBUcN9zDawYCztE0nwgvXI4RCEX44xD0WAlS1z_EP1s"));return o().parse(e,{header:!0}).data},g=async()=>{let e=await i(s("1SQCQVknUuG17P4dTUkuWZXNR0VSoYtf6rpPGBcxSIbw"));return o().parse(e,{header:!0}).data},b=async()=>{let e=await i(s("17QF15uBDXh6Y_B9EC-Xwg1gl93cXIiFV0feLRlqQL1A"));return o().parse(e,{header:!0}).data},v=async()=>{let e=await i(s("10RTHFDR2ppkU8pLXqgZLF4bUzVELT1ZFysOFEdgXa5Q"));return o().parse(e,{header:!0}).data},w=async()=>{let e=await i(s("1KOdQyI9gDGfcOf34gxMBV8Tm9XH0VW4u-mIQXwIyMXo"));return o().parse(e,{header:!0}).data},x=async()=>{let e=await i(s("1X1E3_NLsS1zJd47EXF2pjNcOIqWqvJu2q-V7wDH_Sg0"));return o().parse(e,{header:!0}).data},S=async()=>{let e=await i(s("1F4Jn7QcRKVpw5RKVn8v1GmSPI-Hq2mkZ7hF0E4ID3Eg"));return o().parse(e,{header:!0}).data},B=async e=>{let a=await i(s(e));return o().parse(a,{header:!0}).data},E=async()=>{let e=await i(s("1QxSC3gOOpP0KFmxSwCtHo7-AiGarcGVM2s42tum_3VI"));return o().parse(e,{header:!0}).data}},47707:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>E});var r=t(95155),o=t(12115),l=t(50366),s=t(51202),i=t(1288),n=t(84059),c=t(45177),d=t(25429),u=t(50174),m=t(92497),p=t(35957),f=t(45827),h=t(70189),y=t(88805),g=t(42740),b=t(71419),v=t(41297),w=t(40078),x=t.n(w),S=t(66910),B=t(28513);function E(){let e=o.useRef(null),a=(0,l.useMantineTheme)(),[t,w]=o.useState(null),[E,_]=o.useState("IISER"),[C,D]=o.useState("Precipitation"),[F,j]=o.useState("thisYear"),R=async()=>{let t=e.current;if(t){let e=await x()(t,{backgroundColor:a.colors.primaryBlue[8]}),r=document.createElement("a");r.download="observatory_chart_".concat(C,"_").concat(F,".png"),r.href=e.toDataURL("image/png"),r.click()}};return o.useEffect(()=>{w(null),async function(e){w(await (0,S.v5)(e))}(E)},[E]),(0,r.jsx)(s.Container,{size:"lg",mih:"100vh",children:(0,r.jsxs)(i.Stack,{align:"center",my:"2em",children:[(0,r.jsx)(n.Title,{c:"primaryBlue.9",size:"36px",fw:700,order:1,children:"Observatory"}),(0,r.jsx)(c.Divider,{w:"100%",color:"primaryBlue.9"}),(0,r.jsx)(n.Title,{c:"primaryBlue.9",size:"24px",fw:700,order:2,children:"About the Observatory"}),(0,r.jsx)(d.Card,{w:"100%",p:"1em",style:{background:(0,u.getGradient)({deg:130,from:"primaryBlue.6",to:"secondaryBlue.4"},a),color:"#FFFFFF"},radius:"lg",children:(0,r.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit, dolores! Ad sit aliquam itaque, eum dolorem, distinctio accusamus commodi nesciunt modi, hic ut. Ipsam, voluptate aperiam? Officiis nulla quam vero. Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis, reprehenderit ad. Qui tempore inventore et necessitatibus a dolor delectus, aperiam laborum sequi ratione culpa eveniet earum alias veritatis nostrum quasi!"})}),(0,r.jsx)(c.Divider,{w:"100%",color:"primaryBlue.9"}),(0,r.jsx)(n.Title,{c:"primaryBlue.9",size:"24px",fw:700,order:2,children:"Observatory Data"}),(0,r.jsx)(m.Tabs,{value:E,onChange:e=>_(e),children:(0,r.jsxs)(m.Tabs.List,{children:[(0,r.jsx)(m.Tabs.Tab,{value:"IISER",children:"IISER Bhopal"}),(0,r.jsx)(m.Tabs.Tab,{value:"Loc1",children:"Location 1"})]})}),(0,r.jsx)(p.Select,{value:F,onChange:e=>j(e),defaultValue:"thisYear",data:[{value:"thisYear",label:"This Year"},{value:"thisMonth",label:"This Month"}],radius:"lg",styles:e=>({input:{backgroundColor:e.colors.primaryBlue[0],color:e.colors.primaryBlue[9],borderColor:e.colors.primaryBlue[5]},dropdown:{backgroundColor:e.colors.primaryBlue[0]},item:{"&[data-selected]":{backgroundColor:e.colors.primaryBlue[5],color:e.white},"&[data-hovered]":{backgroundColor:e.colors.primaryBlue[1]}}})}),(0,r.jsx)(f.Chip.Group,{value:C,onChange:e=>D(e),children:(0,r.jsx)(h.Group,{justify:"center",mt:"md",children:S.Ri.map(e=>(0,r.jsx)(f.Chip,{value:e.label,children:e.label},e.label))})}),(0,r.jsx)(d.Card,{shadow:"xs",radius:"lg",p:"2em",my:"2em",w:"100%",style:{background:(0,u.getGradient)({deg:130,from:"primaryBlue.8",to:"secondaryBlue.6"},a),color:"#FFFFFF",border:"1px solid #4D95EA",boxShadow:"0px 0px 25px 0px rgba(77, 149, 234, 0.50)"},children:t?(0,r.jsx)("div",{style:{width:"100%",height:"300px"},ref:e,children:(0,r.jsx)(B.b,{className:"plotRoot",h:300,data:"thisYear"==F?t.thisYearData:t.thisMonthData,series:[{name:C,label:C}],dataKey:"Date",type:"gradient",gradientStops:S.Ri.filter(e=>e.label==C)[0].gradient_stops,strokeWidth:4,curveType:"natural",tickLine:"xy",gridAxis:"xy",yAxisProps:{domain:S.Ri.filter(e=>e.label==C)[0].domain},valueFormatter:e=>"".concat(e).concat(S.Ri.filter(e=>e.label==C)[0].units)})}):(0,r.jsx)(y.Center,{children:(0,r.jsx)(g.Loader,{})})}),(0,r.jsx)(b.Box,{maw:300,w:"100%",children:(0,r.jsx)(v.Button,{style:{boxShadow:"0px 0px 10px 0px rgba(46, 129, 243, 0.25)",border:"1px solid #2C5B90"},className:"hoverBtn",radius:"xl",fullWidth:!0,variant:"gradient",gradient:{from:"#3688E7",to:"#73A0D6",deg:90},onClick:R,children:"Download Chart"})})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[545,316,321,440,42,504,585,441,517,358],()=>a(44101)),_N_E=e.O()}]);